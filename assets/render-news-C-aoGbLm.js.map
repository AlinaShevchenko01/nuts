{"version":3,"file":"render-news-C-aoGbLm.js","sources":["../../src/js/partials/swiper-lazy-loading.js","../../src/js/partials/news-swiper.js","../../src/js/partials/render-news.js","../../src/js/firebase/get-news.js"],"sourcesContent":["import { loadImageElement } from \"@/js/partials/lazy-loading.js\";\n\nfunction lazyLoadingSwiperImage(slide) {\n  const images = slide.querySelectorAll(\".img[data-src]\");\n\n  images.forEach((image) => {\n    loadImageElement(image);\n  });\n}\n\nexport function lazyLoadSwiper(swiper, preload = 2) {\n  const totalSlides = swiper.slides.length;\n\n  const loadSlides = () => {\n    const activeIndex = swiper.activeIndex;\n\n    for (let offset = -preload; offset <= preload; offset++) {\n      const index = (activeIndex + offset + totalSlides) % totalSlides;\n      const slide = swiper.slides[index];\n      if (slide) {\n        lazyLoadingSwiperImage(slide);\n      }\n    }\n  };\n\n  loadSlides();\n\n  swiper.on(\"slideChange\", loadSlides);\n}\n","import Swiper from \"swiper\";\nimport { Navigation } from \"swiper/modules\";\nimport \"swiper/css\";\nimport { lazyLoadSwiper } from \"@/js/partials/swiper-lazy-loading.js\";\n\nexport function initSwiperNews() {\n  const swiperNews = new Swiper(\".news__swiper\", {\n    modules: [Navigation],\n    loop: true,\n    navigation: {\n      nextEl: `.news__btn_next`,\n      prevEl: `.news__btn_prev`,\n    },\n    grabCursor: true,\n    speed: 700,\n\n    breakpoints: {\n      0: {\n        spaceBetween: 16,\n        slidesPerView: 1.2,\n      },\n      575: {\n        slidesPerView: 1.5,\n      },\n      768: {\n        spaceBetween: 16,\n        slidesPerView: 2.5,\n      },\n      1024: {\n        spaceBetween: 32,\n        slidesPerView: 3,\n      },\n    },\n  });\n\n  lazyLoadSwiper(swiperNews);\n}\n","import {getNews} from \"@/js/firebase/get-news.js\";\r\nimport { initSwiperNews } from \"@/js/partials/news-swiper.js\";\r\nimport {lazyLoadVideo} from \"@/js/partials/video.js\";\r\nimport oneNewsPartial from \"@/html/partials/one-news.html\";\r\nimport imgManager from \"@/html/templates/img-manager.html\";\r\nimport videoManager from \"@/html/templates/video-manager.html\";\r\n\r\nexport async function renderOneNews() {\r\n    const newsContainer = document.querySelector(\".news__swiper-wrapper\");\r\n    newsContainer.innerHTML = '';\r\n    const news = await getNews();\r\n\r\n    function createOneNews() {\r\n\r\n        news.forEach((item) => {\r\n            const imageHtml = imgManager({\r\n                \"picture-class\": \"one-news__picture\",\r\n                \"img-srcset\": item.photo.imgSrcSet,\r\n                \"img-src\": item.photo.imgSrc,\r\n                \"img-alt\": 'news-photo',\r\n                \"img-class\": \"one-news__img\",\r\n            }).toString();\r\n\r\n            const videoHtml = item.video ?\r\n                videoManager({\r\n                'video-class': 'one-news__video',\r\n                'video-src': item.video,\r\n                'video-width': '408',\r\n                'video-height': '207',\r\n            }).toString()\r\n            :null;\r\n\r\n            const oneNewsCard = oneNewsPartial({\r\n                'one-news-date' : item.date,\r\n                'one-news-title' : item.title,\r\n                image: imageHtml,\r\n                video: videoHtml,\r\n            })\r\n\r\n\r\n            oneNewsCard.render(newsContainer)\r\n        })\r\n        initSwiperNews()\r\n        lazyLoadVideo()\r\n    }\r\n    createOneNews();\r\n}","import { collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from \"@/js/firebase/firebase.js\";\r\n\r\nexport async function getNews() {\r\n    try {\r\n        const queryNews = await getDocs(collection(db, \"news\"));\r\n        return queryNews.docs.map((doc) =>  doc.data());\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n        return [];\r\n    }\r\n}"],"names":["lazyLoadingSwiperImage","slide","querySelectorAll","forEach","image","loadImageElement","initSwiperNews","swiper","preload","totalSlides","slides","length","loadSlides","activeIndex","offset","index","on","lazyLoadSwiper","Swiper","modules","Navigation","loop","navigation","nextEl","prevEl","grabCursor","speed","breakpoints","spaceBetween","slidesPerView","async","renderOneNews","newsContainer","document","querySelector","innerHTML","getDocs","collection","db","docs","map","doc","data","err","console","log","getNews","item","imageHtml","imgManager","photo","imgSrcSet","imgSrc","toString","videoHtml","video","videoManager","oneNewsPartial","date","title","render","lazyLoadVideo"],"mappings":"kKAEA,SAASA,EAAuBC,GACfA,EAAMC,iBAAiB,kBAE/BC,QAASC,IACdC,EAAiBD,IAErB,CCHO,SAASE,KDKT,SAAwBC,EAAQC,EAAU,GAC/C,MAAMC,EAAcF,EAAOG,OAAOC,OAE5BC,EAAa,KACjB,MAAMC,EAAcN,EAAOM,YAE3B,IAAA,IAASC,GAAUN,EAASM,GAAUN,EAASM,IAAU,CACvD,MAAMC,GAASF,EAAcC,EAASL,GAAeA,EAC/CR,EAAQM,EAAOG,OAAOK,GACxBd,GACFD,EAAuBC,EAE3B,GAGFW,IAEAL,EAAOS,GAAG,cAAeJ,EAC3B,CCOEK,CA7BmB,IAAIC,EAAO,gBAAiB,CAC7CC,QAAS,CAACC,GACVC,MAAM,EACNC,WAAY,CACVC,OAAQ,kBACRC,OAAQ,mBAEVC,YAAY,EACZC,MAAO,IAEPC,YAAa,CACX,EAAG,CACDC,aAAc,GACdC,cAAe,KAEjB,IAAK,CACHA,cAAe,KAEjB,IAAK,CACHD,aAAc,GACdC,cAAe,KAEjB,KAAM,CACJD,aAAc,GACdC,cAAe,MAMvB,2pLC7BOC,eAAeC,IAClB,MAAMC,EAAgBC,SAASC,cAAc,yBAC7CF,EAAcG,UAAY,UCNvBL,iBACH,IAEI,aADwBM,EAAQC,EAAWC,EAAI,UAC9BC,KAAKC,IAAKC,GAASA,EAAIC,OAE5C,OAASC,GAEL,OADAC,QAAQC,IAAIF,GACL,EACX,CACJ,CDFuBG,IAIV3C,QAAS4C,IACV,MAAMC,EAAYC,EAAW,CACzB,gBAAiB,oBACjB,aAAcF,EAAKG,MAAMC,UACzB,UAAWJ,EAAKG,MAAME,OACtB,UAAW,aACX,YAAa,kBACdC,WAEGC,EAAYP,EAAKQ,MACnBC,EAAa,CACb,cAAe,kBACf,YAAaT,EAAKQ,MAClB,cAAe,MACf,eAAgB,QACjBF,WACF,KAEmBI,EAAe,CAC/B,gBAAkBV,EAAKW,KACvB,iBAAmBX,EAAKY,MACxBvD,MAAO4C,EACPO,MAAOD,IAICM,OAAO5B,KAEvB1B,IACAuD,GAGR"}