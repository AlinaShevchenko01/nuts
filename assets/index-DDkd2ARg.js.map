{"version":3,"file":"index-DDkd2ARg.js","sources":["../../src/js/partials/lazy-loading.js","../../src/js/reuse-functions.js","../../src/js/partials/language-dropdown.js","../../src/js/partials/burger.js","../../src/js/partials/video.js","../../src/js/firebase/firebase.js","../../src/js/partials/render-shop-card.js","../../src/js/firebase/get-products.js","../../src/js/partials/custom-swiper.js","../../src/js/pages/main/main.js"],"sourcesContent":["export function loadImageElement(image) {\n  const baseurl = import.meta.env.BASE_URL;\n  const picture = image.closest(\"picture\");\n\n  if (picture) {\n    const sources = picture.querySelectorAll(\"source[data-srcset]\");\n    sources.forEach((source) => {\n      if (source.dataset.srcset) {\n        source.srcset = baseurl + source.dataset.srcset.replace(/^\\/+/, \"\");\n        source.removeAttribute(\"data-srcset\");\n      }\n    });\n  }\n  if (image.dataset.src) {\n    image.src = baseurl + image.dataset.src.replace(/^\\/+/, \"\");\n    image.removeAttribute(\"data-src\");\n  }\n}\n\nexport function lazyLoad() {\n  const images = document.querySelectorAll(\".img[data-src]\");\n\n  const observer = new IntersectionObserver(\n    (entries, obs) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          const image = entry.target;\n          loadImageElement(image);\n          obs.unobserve(image);\n        }\n      });\n    },\n    {\n      root: null,\n      rootMargin: \"200px 0px 200px 0px\",\n      threshold: 0.1,\n    },\n  );\n\n  images.forEach((image) => {\n    observer.observe(image);\n  });\n}","import { changeLanguage } from \"@/js/partials/language-dropdown.js\";\nimport { moveBurger } from \"@/js/partials/burger.js\";\nimport { lazyLoad } from \"@/js/partials/lazy-loading.js\";\nimport { lazyLoadVideo } from \"@/js/partials/video.js\";\n\nexport function reuseFunctions() {\n  lazyLoad();\n  changeLanguage();\n  moveBurger();\n  lazyLoadVideo();\n}\n","export function changeLanguage() {\n  const select = document.querySelector(\".contact-block__language\");\n  const button = select.querySelector(\".contact-block__language-btn\");\n  const dropdown = select.querySelector(\".contact-block__language-list\");\n  const options = select.querySelectorAll(\".contact-block__language-item\");\n  const itemSelect = select.querySelector(\".contact-block__language-selected\");\n\n  button.addEventListener(\"click\", (e) => {\n    const expanded = button.getAttribute(\"aria-expanded\") === \"true\";\n    button.setAttribute(\"aria-expanded\", !expanded);\n    dropdown.classList.toggle(\"active\");\n  });\n\n  options.forEach((option) => {\n    option.addEventListener(\"click\", (e) => {\n      options.forEach((item) => {\n        item.setAttribute(\"aria-selected\", \"false\");\n      });\n      option.setAttribute(\"aria-selected\", \"true\");\n      itemSelect.textContent = option.textContent;\n      dropdown.classList.remove(\"active\");\n      button.setAttribute(\"aria-expanded\", \"false\");\n    });\n  });\n\n  document.addEventListener(\"click\", (e) => {\n    if (!select.contains(e.target)) {\n      dropdown.classList.remove(\"active\");\n      button.setAttribute(\"aria-expanded\", \"false\");\n    }\n  });\n\n  window.addEventListener(\"resize\", (e) => {\n    dropdown.classList.remove(\"active\");\n    button.setAttribute(\"aria-expanded\", \"false\");\n  });\n}\n","import {\n  disablePageScroll,\n  enablePageScroll,\n} from \"scroll-lock/dist/scroll-lock.js\";\n\nexport function moveBurger() {\n  const burgerIcon = document.querySelector(\".header__burger-icon\");\n  const burger = document.querySelector(\".burger\");\n  const closeButton = document.querySelector(\".burger__close\");\n\n  burgerIcon.addEventListener(\"click\", (e) => {\n    if (burger.classList.contains(\"hidden\")) {\n      burger.classList.remove(\"hidden\");\n    }\n    burger.classList.add(\"active\");\n    disablePageScroll(burger);\n    document.documentElement.style.overflow = \"hidden\";\n    document.body.style.overflow = \"hidden\";\n  });\n\n  function closeBurger() {\n    if (burger.classList.contains(\"active\")) {\n      burger.classList.remove(\"active\");\n      enablePageScroll();\n      document.documentElement.style.overflow = \"\";\n      document.body.style.overflow = \"\";\n    }\n  }\n\n  closeButton.addEventListener(\"click\", (e) => {\n    closeBurger();\n  });\n\n  window.addEventListener(\"resize\", (e) => {\n    closeBurger();\n  });\n}\n","export function lazyLoadVideo() {\n  const btns = document.querySelectorAll(\"[data-btn='play-video']\");\n  const videos = document.querySelectorAll(\"[data-video]\");\n  const hiddenContainer = document.querySelectorAll(\n    \"[data-container='hidden']\",\n  );\n\n  btns.forEach((btn, index) => {\n    btn.addEventListener(\"click\", (e) => {\n      hiddenContainer[index].classList.add(\"video-play\");\n      videos[index].classList.add(\"active\");\n      videos[index].load();\n      videos[index].play();\n    });\n  });\n}\n","import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAkxhZgfH2ZnOLEEy5hIeZmslkxakGeCtU\",\n  authDomain: \"nuts-febc7.firebaseapp.com\",\n  projectId: \"nuts-febc7\",\n  storageBucket: \"nuts-febc7.firebasestorage.app\",\n  messagingSenderId: \"321865179065\",\n  appId: \"1:321865179065:web:60dc00e7e8d7182160a068\",\n};\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\nexport { db };\n","import {getProducts} from \"@/js/firebase/get-products.js\";\r\nimport {lazyLoad} from \"@/js/partials/lazy-loading.js\";\r\nimport {initCustomCardSwiper} from \"@/js/partials/custom-swiper.js\";\r\nimport cardPartial from '@/html/partials/card-shop.html'\r\nimport imgManager from '@/html/templates/img-manager.html'\r\nimport itemCharacteristics from '@/html/partials/card-characteristics.html'\r\n\r\nexport async function renderShopCard() {\r\n    const shopContainer = document.querySelector('.shop')\r\n    const btnMore = document.querySelector('[data-move=\"more\"]')\r\n    shopContainer.innerHTML = '';\r\n    const products = await getProducts();\r\n    const groupSize = 6;\r\n    let renderedCards = 0\r\n\r\n    function createCard (product) {\r\n        const imagesHtml = product.photo.map((img) =>\r\n            imgManager({\r\n                'picture-class' : 'shop-card__item-picture',\r\n                'img-srcset': img.imgSrcSet,\r\n                'img-src': img.imgSrc,\r\n                'img-alt' : product.name,\r\n                'img-class' : 'shop-card__img'\r\n            }).toString()).join('')\r\n\r\n        const characteristicsHtml = product.characteristics.map((char) =>\r\n            itemCharacteristics({\r\n                'characteristic-text' : char\r\n            }).toString()).join(',')\r\n\r\n        const cardShop = cardPartial({\r\n            'images' : imagesHtml,\r\n            'card-title' : product.name,\r\n            'characteristics': characteristicsHtml,\r\n            'card-article': product.id,\r\n            weight : 40,\r\n            'pack-type' : product.packType,\r\n            'full-price' : Math.round(product.price * product.salePercent),\r\n            'sale-percent' : product.salePercent,\r\n            'sale-price' : product.price,\r\n            'class-card': product.itemFlag,\r\n            'flag' : product.itemFlag\r\n        })\r\n        return cardShop\r\n    }\r\n\r\n    function renderGroup() {\r\n        const productGroup = products.slice(renderedCards, renderedCards + groupSize);\r\n\r\n        productGroup.forEach((product) => {\r\n            const cardShop = createCard(product);\r\n            cardShop.render(shopContainer);\r\n            initCustomCardSwiper(cardShop);\r\n        })\r\n\r\n        renderedCards += productGroup.length;\r\n\r\n        if (renderedCards >= products.length) {\r\n            btnMore.classList.add('hidden');\r\n        }\r\n        lazyLoad()\r\n    }\r\n    renderGroup()\r\n\r\n    if (btnMore) {\r\n        btnMore.addEventListener('click', () => {\r\n            renderGroup()\r\n        })\r\n    }\r\n}","import { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/js/firebase/firebase.js\";\n\nexport async function getProducts() {\n    try {\n        const queryProducts = await getDocs(collection(db, \"products\"));\n        const products = queryProducts.docs.map(doc => doc.data());\n        console.log(products);\n        return products;\n    }\n    catch(err) {\n        console.log(err);\n        return [];\n    }\n}\n","export function initCustomCardSwiper(card) {\n    const slides = card.querySelectorAll('.shop-card__item-picture');\n    const btnNext = card.querySelector('.shop-card__item-btn_next');\n    const btnPrev = card.querySelector('.shop-card__item-btn_prev');\n\n    let index = 0;\n    slides[index].classList.add('active');\n\n    function showSlide (i) {\n        slides.forEach((slide) => {\n            slide.classList.remove('active');\n        })\n        if (i < 0) {\n            index = slides.length - 1;\n        } else if (i >= slides.length) {\n            index = 0\n        } else index = i;\n\n        slides[index].classList.add('active');\n    }\n\n    btnNext.addEventListener('click', () => {\n        showSlide(index + 1)\n        console.log(index)\n    })\n\n    btnPrev.addEventListener('click', () => {\n        showSlide(index - 1)\n        console.log(index)\n    })\n}\n","import { reuseFunctions } from \"@/js/reuse-functions.js\";\nimport {addProducts} from \"@/js/firebase/add-products.js\";\nimport {getProducts} from \"@/js/firebase/get-products.js\";\nimport {initCustomCardSwiper} from \"@/js/partials/custom-swiper.js\";\nimport cardPartial from '@/html/partials/card-shop.html'\nimport {lazyLoad} from \"@/js/partials/lazy-loading.js\";\nimport {renderShopCard} from \"@/js/partials/render-shop-card.js\";\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n  reuseFunctions();\n  await renderShopCard();\n});"],"names":["lazyLoad","images","document","querySelectorAll","observer","IntersectionObserver","entries","obs","forEach","entry","isIntersecting","image","target","baseurl","picture","closest","source","dataset","srcset","replace","removeAttribute","src","loadImageElement","unobserve","root","rootMargin","threshold","observe","reuseFunctions","select","querySelector","button","dropdown","options","itemSelect","addEventListener","e","expanded","getAttribute","setAttribute","classList","toggle","option","item","textContent","remove","contains","window","changeLanguage","burgerIcon","burger","closeButton","closeBurger","enablePageScroll","documentElement","style","overflow","body","add","disablePageScroll","moveBurger","btns","videos","hiddenContainer","btn","index","load","play","lazyLoadVideo","db","getFirestore","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","async","renderShopCard","shopContainer","btnMore","innerHTML","products","getDocs","collection","docs","map","doc","data","console","log","err","getProducts","renderedCards","renderGroup","productGroup","slice","product","cardShop","imagesHtml","photo","img","imgManager","imgSrcSet","imgSrc","name","toString","join","characteristicsHtml","characteristics","char","itemCharacteristics","cardPartial","id","weight","packType","Math","round","price","salePercent","itemFlag","flag","createCard","render","card","slides","btnNext","btnPrev","showSlide","i","slide","length","initCustomCardSwiper"],"mappings":"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"}