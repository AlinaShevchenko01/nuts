{"version":3,"file":"render-news-Bqjd-WMC.js","sources":["../../src/js/partials/swiper-lazy-loading.js","../../src/js/partials/news-swiper.js","../../src/js/partials/render-news.js","../../src/js/firebase/get-news.js"],"sourcesContent":["import { loadImageElement } from \"@/js/partials/lazy-loading.js\";\n\nfunction lazyLoadingSwiperImage(slide) {\n  const images = slide.querySelectorAll(\".img[data-src]\");\n\n  images.forEach((image) => {\n    loadImageElement(image);\n  });\n}\n\nexport function lazyLoadSwiper(swiper, preload = 2) {\n  const totalSlides = swiper.slides.length;\n\n  const loadSlides = () => {\n    const activeIndex = swiper.activeIndex;\n\n    for (let offset = -preload; offset <= preload; offset++) {\n      const index = (activeIndex + offset + totalSlides) % totalSlides;\n      const slide = swiper.slides[index];\n      if (slide) {\n        lazyLoadingSwiperImage(slide);\n      }\n    }\n  };\n\n  loadSlides();\n\n  swiper.on(\"slideChange\", loadSlides);\n}\n","import Swiper from \"swiper\";\nimport { Navigation } from \"swiper/modules\";\nimport \"swiper/css\";\nimport { lazyLoadSwiper } from \"@/js/partials/swiper-lazy-loading.js\";\n\nexport function initSwiperNews() {\n  const swiperNews = new Swiper(\".news__swiper\", {\n    modules: [Navigation],\n    loop: true,\n    navigation: {\n      nextEl: `.news__btn_next`,\n      prevEl: `.news__btn_prev`,\n    },\n    grabCursor: true,\n    speed: 700,\n\n    breakpoints: {\n      0: {\n        spaceBetween: 16,\n        slidesPerView: 1.2,\n      },\n      575: {\n        slidesPerView: 1.5,\n      },\n      768: {\n        spaceBetween: 16,\n        slidesPerView: 2.5,\n      },\n      1024: {\n        spaceBetween: 32,\n        slidesPerView: 3,\n      },\n    },\n  });\n\n  lazyLoadSwiper(swiperNews);\n}\n","import { getNews } from \"@/js/firebase/get-news.js\";\nimport { initSwiperNews } from \"@/js/partials/news-swiper.js\";\nimport { lazyLoadVideo } from \"@/js/partials/video.js\";\nimport oneNewsPartial from \"@/html/partials/one-news.html\";\nimport imgManager from \"@/html/templates/img-manager.html\";\nimport videoManager from \"@/html/templates/video-manager.html\";\n\nexport async function renderOneNews() {\n  const newsContainer = document.querySelector(\".news__swiper-wrapper\");\n  newsContainer.innerHTML = \"\";\n  const news = await getNews();\n\n  function createOneNews() {\n    news.forEach((item) => {\n      const imageHtml = imgManager({\n        \"picture-class\": \"one-news__picture\",\n        \"img-srcset\": item.photo.imgSrcSet,\n        \"img-src\": item.photo.imgSrc,\n        \"img-alt\": \"news-photo\",\n        \"img-class\": \"one-news__img\",\n      }).toString();\n\n      const videoHtml = item.video\n        ? videoManager({\n            \"video-class\": \"one-news__video\",\n            \"video-src\": item.video,\n            \"video-width\": \"408\",\n            \"video-height\": \"207\",\n          }).toString()\n        : null;\n\n      const oneNewsCard = oneNewsPartial({\n        \"one-news-date\": item.date,\n        \"one-news-title\": item.title,\n        image: imageHtml,\n        video: videoHtml,\n      });\n\n      oneNewsCard.render(newsContainer);\n    });\n    initSwiperNews();\n    lazyLoadVideo();\n  }\n  createOneNews();\n}\n","import { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"@/js/firebase/firebase.js\";\n\nexport async function getNews() {\n  try {\n    const queryNews = await getDocs(collection(db, \"news\"));\n    return queryNews.docs.map((doc) => doc.data());\n  } catch (err) {\n    console.log(err);\n    return [];\n  }\n}\n"],"names":["lazyLoadingSwiperImage","slide","querySelectorAll","forEach","image","loadImageElement","initSwiperNews","swiper","preload","totalSlides","slides","length","loadSlides","activeIndex","offset","index","on","lazyLoadSwiper","Swiper","modules","Navigation","loop","navigation","nextEl","prevEl","grabCursor","speed","breakpoints","spaceBetween","slidesPerView","async","renderOneNews","newsContainer","document","querySelector","innerHTML","getDocs","collection","db","docs","map","doc","data","err","console","log","getNews","item","imageHtml","imgManager","photo","imgSrcSet","imgSrc","toString","videoHtml","video","videoManager","oneNewsPartial","date","title","render","lazyLoadVideo"],"mappings":"kKAEA,SAASA,EAAuBC,GACfA,EAAMC,iBAAiB,kBAE/BC,QAASC,IACdC,EAAiBD,IAErB,CCHO,SAASE,KDKT,SAAwBC,EAAQC,EAAU,GAC/C,MAAMC,EAAcF,EAAOG,OAAOC,OAE5BC,EAAa,KACjB,MAAMC,EAAcN,EAAOM,YAE3B,IAAA,IAASC,GAAUN,EAASM,GAAUN,EAASM,IAAU,CACvD,MAAMC,GAASF,EAAcC,EAASL,GAAeA,EAC/CR,EAAQM,EAAOG,OAAOK,GACxBd,GACFD,EAAuBC,EAE3B,GAGFW,IAEAL,EAAOS,GAAG,cAAeJ,EAC3B,CCOEK,CA7BmB,IAAIC,EAAO,gBAAiB,CAC7CC,QAAS,CAACC,GACVC,MAAM,EACNC,WAAY,CACVC,OAAQ,kBACRC,OAAQ,mBAEVC,YAAY,EACZC,MAAO,IAEPC,YAAa,CACX,EAAG,CACDC,aAAc,GACdC,cAAe,KAEjB,IAAK,CACHA,cAAe,KAEjB,IAAK,CACHD,aAAc,GACdC,cAAe,KAEjB,KAAM,CACJD,aAAc,GACdC,cAAe,MAMvB,2iLC7BOC,eAAeC,IACpB,MAAMC,EAAgBC,SAASC,cAAc,yBAC7CF,EAAcG,UAAY,UCNrBL,iBACL,IAEE,aADwBM,EAAQC,EAAWC,EAAI,UAC9BC,KAAKC,IAAKC,GAAQA,EAAIC,OACzC,OAASC,GAEP,OADAC,QAAQC,IAAIF,GACL,EACT,CACF,CDDqBG,IAGZ3C,QAAS4C,IACZ,MAAMC,EAAYC,EAAW,CAC3B,gBAAiB,oBACjB,aAAcF,EAAKG,MAAMC,UACzB,UAAWJ,EAAKG,MAAME,OACtB,UAAW,aACX,YAAa,kBACZC,WAEGC,EAAYP,EAAKQ,MACnBC,EAAa,CACX,cAAe,kBACf,YAAaT,EAAKQ,MAClB,cAAe,MACf,eAAgB,QACfF,WACH,KAEgBI,EAAe,CACjC,gBAAiBV,EAAKW,KACtB,iBAAkBX,EAAKY,MACvBvD,MAAO4C,EACPO,MAAOD,IAGGM,OAAO5B,KAErB1B,IACAuD,GAGJ"}